<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„Ø·Ø§Ù„Ø¨ ÙŠÙ„ØªÙ‡Ù… Ø§Ù„ÙƒÙ„Ù…Ø§Øª â€“ Ø§Ù„Ù†Ø¬Ø¯Ø©</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #f0f8ff;
    overflow: hidden;
    direction: rtl;
  }
  #gameCanvas {
    background-image: url('https://i.ibb.co/2n2sQwR/classroom.png'); /* Ø®Ù„ÙÙŠØ© ØµÙ */
    background-size: cover;
    display: block;
    margin: 0 auto;
  }
  #scoreBoard {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 24px;
    color: #0000ff;
    font-weight: bold;
  }
  #logo {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 20px;
    color: #ff4500;
  }
  #startScreen {
    position: absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background-color: rgba(255,255,255,0.9);
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    font-size:32px;
    color:#000080;
    z-index: 10;
  }
  #startButton {
    margin-top:20px;
    font-size:24px;
    padding:10px 20px;
    background-color:#00bfff;
    color:white;
    border:none;
    border-radius:8px;
    cursor:pointer;
  }
</style>
</head>
<body>

<div id="logo">Ø§Ù„Ù†Ø¬Ø¯Ø© Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</div>
<div id="scoreBoard">Ø§Ù„Ù†Ù‚Ø§Ø·: 0</div>

<div id="startScreen">
  <div>Ù‡ÙŠØ§ Ù†ØªØ¹Ù„Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!</div>
  <button id="startButton">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<canvas id="gameCanvas" width="800" height="600"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

const playerWidth = 50; // Ø­Ø¬Ù… emoji Ø§Ù„Ù„Ø§Ø¹Ø¨
const playerHeight = 50;
let playerX = canvas.width/2 - playerWidth/2;
let playerY = canvas.height - playerHeight - 20;
const playerSpeed = 7;

let score = 0;

// Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙˆØ§Ù„Ø±Ù…ÙˆØ² (ØºÙŠØ± Ù…ÙƒØ±Ø±Ø©)
const wordsList = [
  {text: "Ù‚Ø·", emoji:"ğŸ±"}, {text:"Ù†Ù…Ø±", emoji:"ğŸ¯"}, {text:"ÙÙ‡Ø¯", emoji:"ğŸ†"},
  {text:"Ø£Ø³Ø¯", emoji:"ğŸ¦"}, {text:"ÙƒÙ„Ø¨", emoji:"ğŸ¶"}, {text:"Ø³Ù…ÙƒØ©", emoji:"ğŸŸ"},
  {text:"ÙØ±Ø§Ø´Ø©", emoji:"ğŸ¦‹"}, {text:"Ø·Ø§Ø¦Ø±Ø©", emoji:"âœˆï¸"}, {text:"Ø³ÙŠØ§Ø±Ø©", emoji:"ğŸš—"},
  {text:"Ø¯Ø±Ø§Ø¬Ø©", emoji:"ğŸš²"}, {text:"ÙƒØ±Ø³ÙŠ", emoji:"ğŸª‘"}, {text:"Ø³Ø±ÙŠØ±", emoji:"ğŸ›ï¸"},
  {text:"ÙƒØªØ§Ø¨", emoji:"ğŸ“š"}, {text:"Ø¯ÙØªØ±", emoji:"ğŸ““"}, {text:"Ù‚Ù„Ù…", emoji:"âœï¸"},
  {text:"Ø­Ù‚ÙŠØ¨Ø©", emoji:"ğŸ’"}, {text:"ØµÙ†Ø¯ÙˆÙ‚", emoji:"ğŸ“¦"}, {text:"Ø¶ÙˆØ¡", emoji:"ğŸ’¡"},
  {text:"Ø¬Ø¯Ø§Ø±", emoji:"ğŸ§±"}, {text:"Ø¨Ø§Ø¨", emoji:"ğŸšª"}, {text:"Ù†Ø§ÙØ°Ø©", emoji:"ğŸªŸ"},
  {text:"Ø³Ø§Ø¹Ø©", emoji:"â°"}, {text:"Ù†Ø¸Ø§Ø±Ø©", emoji:"ğŸ‘“"}, {text:"Ù‡Ø§ØªÙ", emoji:"ğŸ“±"},
  {text:"Ù„ÙˆØ­Ø©", emoji:"ğŸ–¼ï¸"}, {text:"Ø­Ø°Ø§Ø¡", emoji:"ğŸ‘Ÿ"}, {text:"Ù‚Ø¨Ø¹Ø©", emoji:"ğŸ©"},
  {text:"Ø´Ø¬Ø±Ø©", emoji:"ğŸŒ³"}, {text:"Ø²Ù‡Ø±Ø©", emoji:"ğŸŒ¸"}, {text:"ØªÙØ§Ø­Ø©", emoji:"ğŸ"},
  {text:"Ù…ÙˆØ²", emoji:"ğŸŒ"}, {text:"Ø¹Ù†Ø¨", emoji:"ğŸ‡"}, {text:"Ø®ÙˆØ®", emoji:"ğŸ‘"},
  {text:"ÙØ±Ø§ÙˆÙ„Ø©", emoji:"ğŸ“"}, {text:"Ø¨Ø·Ø©", emoji:"ğŸ¦†"}, {text:"Ø£Ø±Ù†Ø¨", emoji:"ğŸ‡"},
  {text:"Ø­ØµØ§Ù†", emoji:"ğŸ"}, {text:"Ø¨Ù‚Ø±Ø©", emoji:"ğŸ„"}, {text:"Ø®Ø±ÙˆÙ", emoji:"ğŸ‘"},
  {text:"Ø¬Ù…Ù„", emoji:"ğŸ«"}, {text:"Ø³ÙÙŠÙ†Ø©", emoji:"ğŸš¢"}, {text:"Ù‚Ø§Ø±Ø¨", emoji:"ğŸ›¶"},
  {text:"Ø¬Ø¨Ù„", emoji:"â›°ï¸"}, {text:"Ø¨Ø­Ø±", emoji:"ğŸŒŠ"}, {text:"ØºÙŠÙˆÙ…", emoji:"â˜ï¸"},
  {text:"Ø´Ù…Ø³", emoji:"â˜€ï¸"}, {text:"Ù†Ø¬Ù…Ø©", emoji:"â­"}, {text:"Ù‚Ù…Ø±", emoji:"ğŸŒ™"},
  {text:"ÙƒØ±Ø©", emoji:"âš½"}, {text:"Ø¯Ø±Ø§Ø¬Ø©-Ù†Ø§Ø±ÙŠØ©", emoji:"ğŸï¸"}
];

let activeWords = [];

// Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ØªØ³Ø§Ù‚Ø·Ø©
function addWord(){
  if(wordsList.length === 0) return;
  const idx = Math.floor(Math.random() * wordsList.length);
  const word = wordsList.splice(idx,1)[0];
  const x = Math.random() * (canvas.width - 50);
  activeWords.push({text: word.text, emoji: word.emoji, x: x, y: 0});
}

// Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù„Ø§Ø¹Ø¨
let keys = {};
document.addEventListener('keydown', (e)=>{ keys[e.key] = true; });
document.addEventListener('keyup', (e)=>{ keys[e.key] = false; });

function updatePlayer(){
  if(keys["ArrowLeft"] && playerX > 0) playerX -= playerSpeed;
  if(keys["ArrowRight"] && playerX < canvas.width - playerWidth) playerX += playerSpeed;
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ„Ù…Ø§Øª
function updateWords(){
  for(let i=activeWords.length-1; i>=0; i--){
    activeWords[i].y += 3;
    // Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù„Ù„ÙƒÙ„Ù…Ø©
    if(activeWords[i].y + 40 >= playerY &&
       activeWords[i].y <= playerY + playerHeight &&
       activeWords[i].x + 40 >= playerX &&
       activeWords[i].x <= playerX + playerWidth){
      score += 10;
      activeWords.splice(i,1);
      document.getElementById('scoreBoard').innerText = "Ø§Ù„Ù†Ù‚Ø§Ø·: " + score;
      continue;
    }
    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¥Ø°Ø§ ØªØ¬Ø§ÙˆØ²Øª Ø§Ù„Ø´Ø§Ø´Ø©
    if(activeWords[i] && activeWords[i].y > canvas.height){
      activeWords.splice(i,1);
    }
  }
}

// Ø±Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ ÙˆØ§Ù„ÙƒÙ„Ù…Ø§Øª
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // Ø§Ù„Ù„Ø§Ø¹Ø¨ emoji ğŸ§
  ctx.font = "50px Arial";
  ctx.fillText("ğŸ§", playerX, playerY + 40);

  // Ø§Ù„ÙƒÙ„Ù…Ø§Øª
  ctx.font = "40px Arial";
  activeWords.forEach(w=>{
    ctx.fillText(w.emoji, w.x, w.y+30);
  });
}

// Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
let gameRunning = false;
function gameLoop(){
  if(!gameRunning) return;
  updatePlayer();
  updateWords();
  draw();
  requestAnimationFrame(gameLoop);
}

// Ø¥Ø¶Ø§ÙØ© ÙƒÙ„Ù…Ø© ÙƒÙ„ Ø«Ø§Ù†ÙŠØ© ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹
function startGame(){
  document.getElementById('startScreen').style.display = 'none';
  gameRunning = true;
  setInterval(addWord, 1000);
  gameLoop();
}

// Ø²Ø± Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
document.getElementById('startButton').addEventListener('click', startGame);

</script>

</body>
</html>
